{"mappings":"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","sources":["services/ajax.ts","node_modules/@swc/helpers/src/_class_extract_field_descriptor.mjs","node_modules/@swc/helpers/src/_class_apply_descriptor_get.mjs","node_modules/@swc/helpers/src/_class_private_field_get.mjs","node_modules/@swc/helpers/src/_check_private_redeclaration.mjs","node_modules/@swc/helpers/src/_class_private_field_init.mjs","services/hackerAPI.ts","utils/observer.ts","store/store.ts","pages/View.ts","app.ts","router/router.ts","pages/Home/Home.ts","pages/Home/Home.template.ts","pages/Detail/Detail.ts","pages/Detail/Detail.template.ts"],"sourcesContent":["class Ajax {\n  ajax: XMLHttpRequest;\n  constructor() {\n    this.ajax = new XMLHttpRequest();\n  }\n\n  async send<T>(method: string, url: string): Promise<T> {\n    return new Promise((resolve, reject) => {\n      this.ajax.open(method, url);\n      this.ajax.onload = () => resolve(JSON.parse(this.ajax.response));\n      this.ajax.onerror = (err) => {\n        console.log(err);\n        reject({\n          status: this.ajax.status,\n          message: this.ajax.statusText,\n        });\n      };\n\n      this.ajax.send();\n    });\n  }\n}\n\nexport default Ajax;\n","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}\n","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}\n","import classExtractFieldDescriptor from './_class_extract_field_descriptor.mjs';\nimport classApplyDescriptorGet from './_class_apply_descriptor_get.mjs';\n\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}\n","export default function _checkPrivateRedeclaration(obj, privateCollection) {\n  if (privateCollection.has(obj)) {\n    throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n}\n","import _checkPrivateRedeclaration from \"./_check_private_redeclaration.mjs\";\n\nexport default function _classPrivateFieldInit(obj, privateMap, value) {\n  _checkPrivateRedeclaration(obj, privateMap);\n  privateMap.set(obj, value);\n}\n","import Ajax from \"./ajax\";\n\nexport interface NewsFeed {\n  id: number;\n  title: string;\n  points: number;\n  user: string;\n  time: number;\n  time_ago: string;\n  comments_count: number;\n  type: string;\n  url: string;\n  domain: string;\n}\n\nexport interface NewsItem {\n  id: number;\n  title: string;\n  points: number | null;\n  user: string | null;\n  time: number;\n  time_ago: string;\n  content: string;\n  deleted?: boolean;\n  dead?: boolean;\n  type: string;\n  url?: string;\n  domain?: string;\n  comments: NewsItem[]; // Comments are items too\n  level: number;\n  comments_count: number;\n}\n\nexport default class HackerAPIService {\n  #BASE_URL = \"https://api.hnpwa.com/v0\";\n  #NEWS_URL = `${this.#BASE_URL}/news/1.json`;\n  #ITEMS_URL = (id: number) => `${this.#BASE_URL}/item/${id}.json`;\n  ajax: Ajax;\n\n  constructor(ajax: Ajax) {\n    this.ajax = ajax;\n  }\n\n  async getNewsfeeds(): Promise<NewsFeed[]> {\n    return await this.ajax.send(\"get\", this.#NEWS_URL);\n  }\n\n  async getNewsItem(id: number): Promise<NewsItem> {\n    return await this.ajax.send(\"get\", this.#ITEMS_URL(id));\n  }\n}\n","import { AnyObject } from \"../types/common\";\n\nlet currentObserver: any = null;\n\nconst observe = (fn: () => void) => {\n  currentObserver = fn;\n  fn();\n  currentObserver = null;\n};\n\nconst observable = <T extends AnyObject>(obj: T) => {\n  Object.keys(obj).forEach((key) => {\n    let _value = obj[key];\n    const observers = new Set<() => void>();\n\n    Object.defineProperty(obj, key, {\n      get() {\n        if (currentObserver) observers.add(currentObserver);\n        return _value;\n      },\n\n      set(value) {\n        _value = value;\n        observers.forEach((fn) => fn());\n      },\n    });\n  });\n  return obj;\n};\n\nexport { observe, observable };\n","import { NewsFeed } from \"../services/hackerAPI\";\n\nimport { observable } from \"../utils/observer\";\n\nexport interface Feed extends NewsFeed {\n  isRead: boolean;\n}\ninterface Store {\n  currentPage: number;\n  feeds?: Feed[];\n}\n\nexport const store = {\n  state: observable<Store>({\n    currentPage: 1,\n  }),\n\n  setState(newState: Partial<Store>) {\n    for (const [key, value] of Object.entries({ ...this.state, ...newState })) {\n      this.state[key] = value;\n    }\n  },\n};\n","export default abstract class View {\n  private template: string;\n  private renderTemplate: string;\n  private container: HTMLElement;\n  private htmlList: string[];\n  private effect: (() => void)[];\n\n  constructor(containerId: string, template: string) {\n    const containerElement = document.getElementById(containerId);\n    if (!containerElement) {\n      throw \"컨네이너가 없어 UI를 진행하지 못합니다\";\n    }\n    this.container = containerElement;\n    this.template = template;\n    this.renderTemplate = template;\n    this.htmlList = [];\n    this.effect = [];\n  }\n\n  protected updateView(): void {\n    this.container.innerHTML = this.renderTemplate;\n    this.renderTemplate = this.template;\n  }\n\n  protected addHtml(html: string): void {\n    this.htmlList.push(html);\n  }\n\n  protected getHtml(): string {\n    const snapshot = this.htmlList.join(\"\");\n    this.clearHtmlList();\n    return snapshot;\n  }\n\n  protected setTempleateData(key: string, value: string): void {\n    this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\n  }\n\n  private clearHtmlList(): void {\n    this.htmlList = [];\n  }\n\n  abstract render(): void;\n}\n","import DetailPage from \"./pages/Detail/Detail\";\nimport Home from \"./pages/Home/Home\";\nimport HashRouter from \"./router/router\";\n\nconst router = new HashRouter();\nconst home = new Home(\"app\");\nconst detail = new DetailPage(\"app\");\n\nrouter.setDefaultPage(home);\nrouter.addRouterPath(\"/page/\", home);\nrouter.addRouterPath(\"/news/\", detail);\n\nrouter.route();\n","import View from \"../pages/View\";\n\ninterface RouteInfo {\n  path: string;\n  page: View;\n}\nexport default class HashRouter {\n  routeTable: RouteInfo[];\n  defaultRoute: RouteInfo | null;\n\n  constructor() {\n    window.addEventListener(\"hashchange\", this.route.bind(this));\n\n    this.routeTable = [];\n    this.defaultRoute = null;\n  }\n\n  addRouterPath(path: string, page: View) {\n    this.routeTable.push({\n      path,\n      page,\n    });\n  }\n\n  setDefaultPage(page: View) {\n    this.defaultRoute = { path: \"\", page };\n  }\n\n  route() {\n    const routePath = location.hash;\n\n    if (routePath === \"\" && this.defaultRoute) {\n      this.defaultRoute.page.render();\n    }\n\n    for (const routeInfo of this.routeTable) {\n      if (routePath.indexOf(routeInfo.path) >= 0) {\n        routeInfo.page.render();\n        break;\n      }\n    }\n  }\n}\n","import Ajax from \"../../services/ajax\";\nimport HackerAPIService, { NewsFeed } from \"../../services/hackerAPI\";\nimport { Feed, store } from \"../../store/store\";\nimport View from \"../View\";\nimport { homeTemplate } from \"./Home.template\";\n\nexport default class Home extends View {\n  api: HackerAPIService;\n  feeds: Feed[] | null;\n  currentPage: number | null;\n\n  constructor(containerId: string) {\n    let template = homeTemplate;\n\n    super(containerId, template);\n    this.api = new HackerAPIService(new Ajax());\n    this.feeds = store.state.feeds || null;\n    this.currentPage = null;\n  }\n\n  private async init() {\n    if (!this.feeds || this.feeds.length === 0) {\n      await this.setFeeds();\n    }\n\n    this.currentPage = Number(location.hash.split(\"/\")[2]) || 1;\n    store.setState({\n      currentPage: this.currentPage,\n    });\n  }\n\n  async setFeeds() {\n    const result = await this.api.getNewsfeeds();\n    const feeds = result.map((feed) => ({\n      ...feed,\n      isRead: false,\n    }));\n    this.feeds = feeds;\n\n    store.setState({\n      feeds,\n    });\n  }\n\n  async render() {\n    await this.init();\n    const totalLength = this.feeds!.length;\n\n    for (let i = (this.currentPage! - 1) * 5; i < (this.currentPage! - 1) * 5 + 5; i++) {\n      const feed = this.feeds![i];\n      this.addHtml(`\n      <li class=\"max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl\">\n          <a class=\"block ${feed.isRead ? \"bg-red-50\" : \"\"} p-8 hover:bg-indigo-50 transition-colors\" href=\"#/news/${\n        feed.id\n      }\">\n          \n            <p class=\"uppercase tracking-wide text-base text-indigo-500 font-semibold\">\n              ${feed.title} (${feed.comments_count})\n            </p>\n            \n            <div class=\"flex gap-2 mt-2 items-center\"> \n              <p class=\"text-slate-600\">${feed.user}</p>\n              <p class=\"text-slate-500 font-light\">${feed.time_ago}</p>\n            </div>\n            \n          </a>\n      </li>\n      `);\n    }\n\n    this.setTempleateData(\"news_feed\", this.getHtml());\n    this.setTempleateData(\"prev_page\", store.state.currentPage > 1 ? String(store.state.currentPage - 1) : String(1));\n    this.setTempleateData(\n      \"next_page\",\n      store.state.currentPage >= totalLength / 5 ? String(totalLength / 5) : String(store.state.currentPage + 1)\n    );\n    this.setTempleateData(\"current_page\", String(store.state.currentPage));\n    this.setTempleateData(\"total_page\", String(totalLength / 5));\n\n    this.updateView();\n  }\n}\n","export const homeTemplate = `\n<div class=\"bg-gray-800 mx-auto mb-4 px-2 py-1 sm:px-6 lg:px-8 xl:px-10\">\n  <h1 class=\"text-white text-2xl\t font-bold\">Hacker News</h1>\n</div>\n\n<div class=\"mx-auto px-2 sm:px-6 lg:px-8 xl:px-10\">\n  <div class=\"flex gap-4 max-w-md mx-auto md:max-w-2xl mb-4 items-center\">\n  <div class=\"flex gap-1\">\n    <a href=\"#/page/{{__prev_page__}}\">\n      <div class=\"flex h-10 w-10 transition-colors\t hover:bg-indigo-700 items-center justify-center rounded-md bg-indigo-500 text-white\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18\" />\n        </svg>\n      </div>            \n    </a>\n    <a href=\"#/page/{{__next_page__}}\">\n      <div class=\"flex h-10 w-10 transition-colors\t hover:bg-indigo-700 items-center justify-center rounded-md bg-indigo-500 text-white\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-6 h-6\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3\" />\n        </svg>\n      </div>\n    </a>\n  </div>\n\n  <p class=\"text-base text-slate-600 font-bold\">\n    {{__current_page__}} / {{__total_page__}}\n  </p>\n  </div>\n\n  <ul class=\"space-y-2 mb-4\">\n    {{__news_feed__}}\n  </ul>\n\n</div>\n`;\n","import Ajax from \"../../services/ajax\";\nimport HackerAPIService, { NewsItem } from \"../../services/hackerAPI\";\nimport { store } from \"../../store/store\";\nimport View from \"../View\";\nimport { detailTemplate } from \"./Detail.template\";\n\nexport default class DetailPage extends View {\n  api: HackerAPIService;\n  content: NewsItem | null;\n  id: number | null;\n\n  constructor(containerId: string) {\n    const template = detailTemplate;\n    super(containerId, template);\n    this.api = new HackerAPIService(new Ajax());\n    this.content = null;\n    this.id = null;\n  }\n\n  makeComments(commentsList: NewsItem[], called = 0) {\n    for (let i = 0; i < commentsList.length; i++) {\n      const { user, content, time_ago, title, comments, comments_count } = commentsList[i];\n\n      this.addHtml(`\n      <div class=\"ml-${called * 4} relative z-10\">\n      \n        <div class=\"relative z-10 pb-2\">\n          <div class=\"relative mb-2 py-2 px-6 bg-white rounded-md shadow-xl ring-1 ring-slate-900/5 divide-y divide-slate-100 my-auto xl:mt-18 dark:bg-slate-800 dark:divide-slate-200/5 dark:highlight-white/10\">\n            <div class=\"py-2\">${content}</div>\n            <div class=\"py-2 flex w-full justify-between\">\n              <span class=\"text-sm text-indigo-800\">${time_ago}</span>\n              <span class=\"text-sm text-indigo-800\">${user}</span>\n            </div>\n          </div>\n        </div>\n      </div>`);\n\n      if (comments_count > 0) {\n        this.addHtml(this.makeComments(comments, called + 1));\n      }\n    }\n\n    return this.getHtml();\n  }\n\n  async getContent() {\n    const id = location.hash.split(\"/\")[2];\n    this.id = Number(id);\n    const result = await this.api.getNewsItem(Number(id));\n\n    store.setState({\n      feeds: store.state.feeds?.map((feed) => {\n        if (feed.id === this.id) {\n          feed.isRead = true;\n        }\n        return feed;\n      }),\n    });\n\n    this.content = result;\n  }\n\n  async render() {\n    await this.getContent();\n\n    if (this.content) {\n      this.setTempleateData(\"title\", this.content.title);\n      this.setTempleateData(\"user\", this.content.user || \"\");\n      this.setTempleateData(\"time_ago\", this.content.time_ago);\n      this.setTempleateData(\"content\", this.content.content);\n      this.setTempleateData(\"comments\", this.makeComments(this.content.comments));\n      this.setTempleateData(\"current_page\", String(store.state.currentPage));\n    }\n\n    this.updateView();\n  }\n}\n","export const detailTemplate = `\n<div class=\"bg-gray-800 mx-auto mb-4 px-2 py-1 sm:px-6 lg:px-8 xl:px-10\">\n  <h1 class=\"text-white text-2xl\tfont-bold\">Hacker News</h1>\n</div>\n\n<div class=\"mx-auto px-2 sm:px-6 lg:px-8 xl:px-10\">\n<div class=\"max-w-md mx-auto md:max-w-2xl mb-4 items-center\">\n  <h1 class=\"text-lg font-bold mb-4\">{{__title__}}</h1>\n\n  <div class=\"mb-4 flex w-full justify-between\">\n    <span class=\"text-sm text-indigo-800\">{{__user__}}</span>\n    <span class=\"text-sm text-indigo-800\">{{__time_ago__}}</span>\n  </div>\n  \n  <div class=\"mb-4\">\n    {{__content__}}\n  </div>\n\n  <a class=\"mt-2 transition-colors inline-flex items-center h-9 rounded-md text-sm font-semibold whitespace-nowrap px-3 focus:outline-none focus:ring-2 bg-indigo-50 text-indigo-600 hover:bg-indigo-100 hover:text-indigo-700 focus:ring-indigo-600 dark:bg-slate-700 dark:text-slate-100 dark:hover:bg-slate-600 dark:hover:text-white dark:focus:ring-slate-500\" href=\"#/page/{{__current_page__}}\">목록으로</a>\n\n  <div class=\"mt-4\">\n    <h2 class=\"mb-2 font-semibold text-indigo-500 dark:text-indigo-400\">Comments</h2>\n    <div>\n      {{__comments__}}\n    </div>\n  </div>\n</div>\n`;\n"],"names":["$faf2a6645027b86d$export$2e2bcd8739ae039","async","method","url","Promise","resolve","reject","this","ajax","open","onload","JSON","parse","response","onerror","err","console","log","status","message","statusText","send","constructor","XMLHttpRequest","$63a2a9cb56255ced$export$2e2bcd8739ae039","receiver","privateMap","action","has","TypeError","get","$91f06d233fb295cb$export$2e2bcd8739ae039","descriptor","call","value","$cfafd7bd727718cb$export$2e2bcd8739ae039","$3b30310a11d769ec$export$2e2bcd8739ae039","obj","privateCollection","$a33675d45e16a910$export$2e2bcd8739ae039","set","$2ffdd83782345594$var$_BASE_URL","WeakMap","$2ffdd83782345594$var$_NEWS_URL","$2ffdd83782345594$var$_ITEMS_URL","$2ffdd83782345594$export$2e2bcd8739ae039","id","$dab9dacbf5a9f217$var$currentObserver","$d7983cad9a63fb91$export$6f57813fe9f31bf9","state","currentPage","Object","keys","forEach","key","_value","observers","Set","defineProperty","add","fn","setState","newState","entries","$3635b4041eea2fd2$export$2e2bcd8739ae039","updateView","container","innerHTML","renderTemplate","template","addHtml","html","htmlList","push","getHtml","snapshot","join","clearHtmlList","setTempleateData","replace","containerId","containerElement","document","getElementById","effect","$a0fbfdbf4fb9a96d$var$router","addRouterPath","path","page","routeTable","setDefaultPage","defaultRoute","route","routePath","location","hash","render","routeInfo","indexOf","window","addEventListener","bind","$a0fbfdbf4fb9a96d$var$home","feeds","length","setFeeds","Number","split","api","getNewsfeeds","map","feed","isRead","init","totalLength","i","title","comments_count","user","time_ago","String","super","$a0fbfdbf4fb9a96d$var$detail","makeComments","commentsList","called","content","comments","result","getNewsItem","getContent"],"version":3,"file":"index.33ac1983.js.map"}